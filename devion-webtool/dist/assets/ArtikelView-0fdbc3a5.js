import{T as m,L as v}from"./LabelDevion-767386bf.js";import{B as i,G as P,P as C}from"./global-086da01c.js";import{A as g}from"./ArtikelForm-8473aa12.js";import{L as x}from"./LoadingAnimation-9902bb83.js";import{_ as F,e as a,o as A,c as _,f as o,g as T,a as h,n as B,F as O}from"./index-2a712484.js";let u="",c="",s=[],t=0,w=null,f=0,k=[],d=!1;const V={components:{textInput:m,buttonDevion:i,artikelForm:g,labelDevion:v,LoadingAnimation:x},data(){return{textInputArtikelSearch:{components:{textInput:m},id:"artikelSearch",label:"Artikel nummer",error:!1,errorText:"Artikel niet gevonden"},searchButton:{components:{buttonDevion:i},label:"artikel(s) zoeken",isButtonDisabled:!1,showButton:!0,methods:{handleButtonClick(){},toggleButtonState(){this.isButtonDisabled=!this.isButtonDisabled}}},artikelForm:{components:{artikelForm:g},showform:!1,data:null},save:{components:{buttonDevion:i},label:"Opslaan",isButtonDisabled:!1,showButton:!1},next:{components:{buttonDevion:i},label:"Volgende",isButtonDisabled:!1,showButton:!1},prev:{components:{buttonDevion:i},label:"Vorige",isButtonDisabled:!1,showButton:!1},artikelProgress:{components:{labelDevion:v},label:"Artikel 1/1",showLabel:!1},loading:{components:{LoadingAnimation:x},showLoad:!1}}},beforeUnmount(){u="",c="",s=[],t=0,w=null,f=0,k=[]},methods:{ArtikelZoeken(){if(u==null)this.textInputArtikelSearch.error=!0;else{this.textInputArtikelSearch.error=!1;let r=u.toString();u!=""&&(s=[...new Set(r.split(", "))]),s!=null&&(k[t]==null?(this.loading.showLoad=!0,c=`devion/cebeo/searcharticle?articleReference=${s[t]}`,P(c).then(l=>{console.log(l),l.status?(this.textInputArtikelSearch.error=!0,this.textInputArtikelSearch.errorText=l.detail):(this.artikelForm.data=l,this.artikelForm.showform=!0,s.length>1?t==s.length-1?(this.next.showButton=!1,this.save.showButton=!0,this.artikelProgress.showLabel=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.next.showButton=!0,this.save.showButton=!1,this.prev.showButton=!0,this.artikelProgress.showLabel=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.artikelProgress.showLabel=!1,this.save.showButton=!0,this.next.showButton=!1,this.prev.showButton=!1))}).catch(l=>{this.textInputArtikelSearch.error=!0,this.textInputArtikelSearch.errorText=l.message})):(this.artikelForm.data=k[t],this.artikelForm.showform=!0,s.length>1?t==s.length-1?(this.next.showButton=!1,this.save.showButton=!0,this.artikelProgress.showLabel=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.next.showButton=!0,this.save.showButton=!1,this.prev.showButton=!0,this.artikelProgress.showLabel=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.artikelProgress.showLabel=!1,this.save.showButton=!0,this.next.showButton=!1,this.prev.showButton=!1)))}},handleTextInputArtikelSearch(r){u=r},handleArtikel(r){w=r,k[t]=w,d==!0?(c="devion/ets/validatearticleform",k.forEach(l=>{C(c,l).then(p=>{console.log(p)})})):(d=!1,t=f,t==s.length-1?(this.next.showButton=!1,this.save.showButton=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):t==0?(this.next.showButton=!0,this.save.showButton=!1,this.prev.showButton=!1,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.next.showButton=!0,this.save.showButton=!1,this.prev.showButton=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`),this.ArtikelZoeken())},handleNextButtonClick(){f=t+1,this.$refs.article.createInfoObject()},handlePrevButtonClick(){f=t-1,this.$refs.article.createInfoObject()},handleSaveButtonClick(){console.log("opslaan"),d=!0,this.$refs.article.createInfoObject()}}},N={key:0,class:"c-load"},j={class:"c-artikel-form"},y={class:"c-artikel-progress"};function Z(r,l,p,z,e,n){const D=a("textInput"),b=a("buttonDevion"),S=a("LoadingAnimation"),I=a("artikelForm"),L=a("labelDevion");return A(),_(O,null,[o(D,{id:e.textInputArtikelSearch.id,label:e.textInputArtikelSearch.label,error:e.textInputArtikelSearch.error,errorText:e.textInputArtikelSearch.errorText,placeholder:e.textInputArtikelSearch.label,onOptionSelected:n.handleTextInputArtikelSearch},null,8,["id","label","error","errorText","placeholder","onOptionSelected"]),o(b,{label:e.searchButton.label,isDisabled:e.searchButton.isButtonDisabled,onClick:n.ArtikelZoeken,showButton:e.searchButton.showButton,class:"c-button-search"},null,8,["label","isDisabled","onClick","showButton"]),e.loading.showLoad?(A(),_("div",N,[o(S,{showLoad:e.loading.showLoad},null,8,["showLoad"])])):T("",!0),h("div",j,[o(I,{showform:e.artikelForm.showform,data:e.artikelForm.data,onObjectArtikel:n.handleArtikel,class:"c-form",check:e.artikelForm.check,ref:"article"},null,8,["showform","data","onObjectArtikel","check"]),h("div",{class:B(["c-artikel-button--save",{"o-hide-accessible":!e.save.showButton}])},[o(b,{label:e.save.label,isDisabled:e.save.isButtonDisabled,showButton:e.save.showButton,onClick:n.handleSaveButtonClick,class:"c-button-artikel--next"},null,8,["label","isDisabled","showButton","onClick"])],2),h("div",{class:B(["c-artikel-button--next",{"o-hide-accessible":!e.next.showButton}])},[o(b,{label:e.next.label,isDisabled:e.next.isButtonDisabled,showButton:e.next.showButton,onClick:n.handleNextButtonClick,class:"c-button-artikel--next"},null,8,["label","isDisabled","showButton","onClick"])],2),h("div",{class:B(["c-artikel-button--prev",{"o-hide-accessible":!e.prev.showButton}])},[o(b,{label:e.prev.label,isDisabled:e.prev.isButtonDisabled,showButton:e.prev.showButton,onClick:n.handlePrevButtonClick,class:"c-button-artikel--prev"},null,8,["label","isDisabled","showButton","onClick"])],2),h("div",y,[o(L,{label:e.artikelProgress.label,showLabel:e.artikelProgress.showLabel,class:"c-artikel-progress__text"},null,8,["label","showLabel"])])])],64)}const q=F(V,[["render",Z],["__scopeId","data-v-d5ecce2a"]]);export{q as default};
