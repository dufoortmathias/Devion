import{T as m,L as v}from"./LabelDevion-e66deda4.js";import{B as a,G as P,P as C}from"./global-d1d627d6.js";import{A as g}from"./ArtikelForm-ef359da1.js";import{L as x}from"./LoadingAnimation-baca3cd3.js";import{_ as F,e as h,o as _,c as A,f as r,g as T,a as i,n as p,F as O,p as V,b as N}from"./index-894bacca.js";let u="",c="",s=[],t=0,f=null,d=0,k=[],B=!1;const j={components:{textInput:m,buttonDevion:a,artikelForm:g,labelDevion:v,LoadingAnimation:x},data(){return{textInputArtikelSearch:{components:{textInput:m},id:"artikelSearch",label:"Artikel nummer",error:!1,errorText:"Artikel niet gevonden"},searchButton:{components:{buttonDevion:a},label:"artikel(s) zoeken",isButtonDisabled:!1,showButton:!0,methods:{handleButtonClick(){},toggleButtonState(){this.isButtonDisabled=!this.isButtonDisabled}}},artikelForm:{components:{artikelForm:g},showform:!1,data:null},save:{components:{buttonDevion:a},label:"Opslaan",isButtonDisabled:!1,showButton:!1},next:{components:{buttonDevion:a},label:"Volgende",isButtonDisabled:!1,showButton:!1},prev:{components:{buttonDevion:a},label:"Vorige",isButtonDisabled:!1,showButton:!1},artikelProgress:{components:{labelDevion:v},label:"Artikel 1/1",showLabel:!1},loading:{components:{LoadingAnimation:x},showLoad:!1}}},beforeUnmount(){u="",c="",s=[],t=0,f=null,d=0,k=[]},methods:{ArtikelZoeken(){if(u==null)this.textInputArtikelSearch.error=!0;else{this.textInputArtikelSearch.error=!1;let l=u.toString();u!=""&&(s=[...new Set(l.split(", "))]),s!=null&&(k[t]==null?(this.loading.showLoad=!0,c=`devion/cebeo/searcharticle?articleReference=${s[t]}`,P(c).then(o=>{console.log(o),o.status?(this.textInputArtikelSearch.error=!0,this.textInputArtikelSearch.errorText=o.detail):(this.artikelForm.data=o,this.artikelForm.showform=!0,s.length>1?t==s.length-1?(this.next.showButton=!1,this.save.showButton=!0,this.artikelProgress.showLabel=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.next.showButton=!0,this.save.showButton=!1,this.prev.showButton=!0,this.artikelProgress.showLabel=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.artikelProgress.showLabel=!1,this.save.showButton=!0,this.next.showButton=!1,this.prev.showButton=!1))}).catch(o=>{this.textInputArtikelSearch.error=!0,this.textInputArtikelSearch.errorText=o.message})):(this.artikelForm.data=k[t],this.artikelForm.showform=!0,s.length>1?t==s.length-1?(this.next.showButton=!1,this.save.showButton=!0,this.artikelProgress.showLabel=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.next.showButton=!0,this.save.showButton=!1,this.prev.showButton=!0,this.artikelProgress.showLabel=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.artikelProgress.showLabel=!1,this.save.showButton=!0,this.next.showButton=!1,this.prev.showButton=!1)))}},handleTextInputArtikelSearch(l){u=l},handleArtikel(l){f=l,k[t]=f,B==!0?(c="devion/ets/validatearticleform",k.forEach(o=>{C(c,o).then(w=>{console.log(w)})})):(B=!1,t=d,t==s.length-1?(this.next.showButton=!1,this.save.showButton=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):t==0?(this.next.showButton=!0,this.save.showButton=!1,this.prev.showButton=!1,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.next.showButton=!0,this.save.showButton=!1,this.prev.showButton=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`),this.ArtikelZoeken())},handleNextButtonClick(){d=t+1,this.$refs.article.createInfoObject()},handlePrevButtonClick(){d=t-1,this.$refs.article.createInfoObject()},handleSaveButtonClick(){console.log("opslaan"),B=!0,this.$refs.article.createInfoObject()}}},y=l=>(V("data-v-7de98399"),l=l(),N(),l),Z=y(()=>i("h1",null,"artikel",-1)),z={key:0,class:"c-load"},E={class:"c-artikel-form"},G={class:"c-artikel-progress"};function R(l,o,w,U,e,n){const D=h("textInput"),b=h("buttonDevion"),S=h("LoadingAnimation"),I=h("artikelForm"),L=h("labelDevion");return _(),A(O,null,[Z,r(D,{id:e.textInputArtikelSearch.id,label:e.textInputArtikelSearch.label,error:e.textInputArtikelSearch.error,errorText:e.textInputArtikelSearch.errorText,placeholder:e.textInputArtikelSearch.label,onOptionSelected:n.handleTextInputArtikelSearch},null,8,["id","label","error","errorText","placeholder","onOptionSelected"]),r(b,{label:e.searchButton.label,isDisabled:e.searchButton.isButtonDisabled,onClick:n.ArtikelZoeken,showButton:e.searchButton.showButton,class:"c-button-search"},null,8,["label","isDisabled","onClick","showButton"]),e.loading.showLoad?(_(),A("div",z,[r(S,{showLoad:e.loading.showLoad},null,8,["showLoad"])])):T("",!0),i("div",E,[r(I,{showform:e.artikelForm.showform,data:e.artikelForm.data,onObjectArtikel:n.handleArtikel,class:"c-form",check:e.artikelForm.check,ref:"article"},null,8,["showform","data","onObjectArtikel","check"]),i("div",{class:p(["c-artikel-button--save",{"o-hide-accessible":!e.save.showButton}])},[r(b,{label:e.save.label,isDisabled:e.save.isButtonDisabled,showButton:e.save.showButton,onClick:n.handleSaveButtonClick,class:"c-button-artikel--next"},null,8,["label","isDisabled","showButton","onClick"])],2),i("div",{class:p(["c-artikel-button--next",{"o-hide-accessible":!e.next.showButton}])},[r(b,{label:e.next.label,isDisabled:e.next.isButtonDisabled,showButton:e.next.showButton,onClick:n.handleNextButtonClick,class:"c-button-artikel--next"},null,8,["label","isDisabled","showButton","onClick"])],2),i("div",{class:p(["c-artikel-button--prev",{"o-hide-accessible":!e.prev.showButton}])},[r(b,{label:e.prev.label,isDisabled:e.prev.isButtonDisabled,showButton:e.prev.showButton,onClick:n.handlePrevButtonClick,class:"c-button-artikel--prev"},null,8,["label","isDisabled","showButton","onClick"])],2),i("div",G,[r(L,{label:e.artikelProgress.label,showLabel:e.artikelProgress.showLabel,class:"c-artikel-progress__text"},null,8,["label","showLabel"])])])],64)}const M=F(j,[["render",R],["__scopeId","data-v-7de98399"]]);export{M as default};
