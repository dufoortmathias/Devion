import{t as d,B as h,L as x,G as I,P as g}from"./LabelDevion-940e8072.js";import{A}from"./ArtikelForm-31379c22.js";import{_ as P,e as f,o as C,c as F,f as r,a as u,n as w,F as L}from"./index-624f8bce.js";let c="",i="",s=[],t=0,p=null,B=0,k=[],v=!1;const O={components:{textInput:d,buttonDevion:h,artikelForm:A,labelDevion:x},data(){return{textInputArtikelSearch:{components:{textInput:d},id:"artikelSearch",label:"Artikel nummer",error:!1,errorText:"Artikel niet gevonden"},searchButton:{components:{buttonDevion:h},label:"artikel(s) zoeken",isButtonDisabled:!1,showButton:!0,methods:{handleButtonClick(){},toggleButtonState(){this.isButtonDisabled=!this.isButtonDisabled}}},artikelForm:{components:{artikelForm:A},showform:!1,data:null},save:{components:{buttonDevion:h},label:"Opslaan",isButtonDisabled:!1,showButton:!1},next:{components:{buttonDevion:h},label:"Volgende",isButtonDisabled:!1,showButton:!1},prev:{components:{buttonDevion:h},label:"Vorige",isButtonDisabled:!1,showButton:!1},artikelProgress:{components:{labelDevion:x},label:"Artikel 1/1",showLabel:!1}}},beforeUnmount(){c="",i="",s=[],t=0,p=null,B=0,k=[]},methods:{ArtikelZoeken(){if(c==null)this.textInputArtikelSearch.error=!0;else{this.textInputArtikelSearch.error=!1;let n=c.toString();c!=""&&(s=[...new Set(n.split(", "))]),s!=null&&(k[t]==null?(i=`devion/cebeo/searcharticle?articleReference=${s[t]}`,I(i).then(l=>{console.log(l),l.status?(this.textInputArtikelSearch.error=!0,this.textInputArtikelSearch.errorText=l.detail):(this.artikelForm.data=l,this.artikelForm.showform=!0,s.length>1?t==s.length-1?(this.next.showButton=!1,this.save.showButton=!0,this.artikelProgress.showLabel=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.next.showButton=!0,this.save.showButton=!1,this.prev.showButton=!0,this.artikelProgress.showLabel=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.artikelProgress.showLabel=!1,this.save.showButton=!0,this.next.showButton=!1,this.prev.showButton=!1))}).catch(l=>{this.textInputArtikelSearch.error=!0,this.textInputArtikelSearch.errorText=l.message})):(this.artikelForm.data=k[t],this.artikelForm.showform=!0,s.length>1?t==s.length-1?(this.next.showButton=!1,this.save.showButton=!0,this.artikelProgress.showLabel=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.next.showButton=!0,this.save.showButton=!1,this.prev.showButton=!0,this.artikelProgress.showLabel=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.artikelProgress.showLabel=!1,this.save.showButton=!0,this.next.showButton=!1,this.prev.showButton=!1)))}},handleTextInputArtikelSearch(n){c=n},handleArtikel(n){p=n,k[t]=p,v==!0?(i="devion/ets/validatearticleform",k.forEach(l=>{g(i,l).then(o=>{o=JSON.parse(o),o.status?o.errors&&this.$refs.article.validate(o.errors):(i="devion/ets/createarticle",g(i,l).then(()=>{}).catch(m=>{console.error(m)}))}).catch(o=>{console.error(o)})})):(v=!1,t=B,t==s.length-1?(this.next.showButton=!1,this.save.showButton=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):t==0?(this.next.showButton=!0,this.save.showButton=!1,this.prev.showButton=!1,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`):(this.next.showButton=!0,this.save.showButton=!1,this.prev.showButton=!0,this.artikelProgress.label=`Artikel ${t+1}/${s.length}`),this.ArtikelZoeken())},handleNextButtonClick(){B=t+1,this.$refs.article.createInfoObject()},handlePrevButtonClick(){B=t-1,this.$refs.article.createInfoObject()},handleSaveButtonClick(){console.log("opslaan"),v=!0,this.$refs.article.createInfoObject()}}},T={class:"c-artikel-form"},N={class:"c-artikel-progress"};function V(n,l,o,m,e,a){const _=f("textInput"),b=f("buttonDevion"),D=f("artikelForm"),S=f("labelDevion");return C(),F(L,null,[r(_,{id:e.textInputArtikelSearch.id,label:e.textInputArtikelSearch.label,error:e.textInputArtikelSearch.error,errorText:e.textInputArtikelSearch.errorText,placeholder:e.textInputArtikelSearch.label,onOptionSelected:a.handleTextInputArtikelSearch},null,8,["id","label","error","errorText","placeholder","onOptionSelected"]),r(b,{label:e.searchButton.label,isDisabled:e.searchButton.isButtonDisabled,onClick:a.ArtikelZoeken,showButton:e.searchButton.showButton,class:"c-button-search"},null,8,["label","isDisabled","onClick","showButton"]),u("div",T,[r(D,{showform:e.artikelForm.showform,data:e.artikelForm.data,onObjectArtikel:a.handleArtikel,class:"c-form",check:e.artikelForm.check,ref:"article"},null,8,["showform","data","onObjectArtikel","check"]),u("div",{class:w(["c-artikel-button--save",{"o-hide-accessible":!e.save.showButton}])},[r(b,{label:e.save.label,isDisabled:e.save.isButtonDisabled,showButton:e.save.showButton,onClick:a.handleSaveButtonClick,class:"c-button-artikel--next"},null,8,["label","isDisabled","showButton","onClick"])],2),u("div",{class:w(["c-artikel-button--next",{"o-hide-accessible":!e.next.showButton}])},[r(b,{label:e.next.label,isDisabled:e.next.isButtonDisabled,showButton:e.next.showButton,onClick:a.handleNextButtonClick,class:"c-button-artikel--next"},null,8,["label","isDisabled","showButton","onClick"])],2),u("div",{class:w(["c-artikel-button--prev",{"o-hide-accessible":!e.prev.showButton}])},[r(b,{label:e.prev.label,isDisabled:e.prev.isButtonDisabled,showButton:e.prev.showButton,onClick:a.handlePrevButtonClick,class:"c-button-artikel--prev"},null,8,["label","isDisabled","showButton","onClick"])],2),u("div",N,[r(S,{label:e.artikelProgress.label,showLabel:e.artikelProgress.showLabel,class:"c-artikel-progress__text"},null,8,["label","showLabel"])])])],64)}const z=P(O,[["render",V],["__scopeId","data-v-bfdf82f2"]]);export{z as default};
